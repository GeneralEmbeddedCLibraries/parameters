// Copyright (c) 2021 Ziga Miklosic
// All Rights Reserved
// This software is under MIT licence (https://opensource.org/licenses/MIT)
////////////////////////////////////////////////////////////////////////////////
/**
*@file      par_cfg.c
*@brief     Configuration for device parameters
*@author    Ziga Miklosic
*@date      22.05.2021
*@version	V1.0.1
*/
////////////////////////////////////////////////////////////////////////////////
/**
*@addtogroup PAR_CFG
* @{ <!-- BEGIN GROUP -->
*
* 	Configuration for device parameters
*
* 	User shall put code inside inside code block start with
* 	"USER_CODE_BEGIN" and with end of "USER_CODE_END".
*/
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Includes
////////////////////////////////////////////////////////////////////////////////
#include "par_cfg.h"
#include "parameters/src/par.h"

////////////////////////////////////////////////////////////////////////////////
// Definitions
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Variables
////////////////////////////////////////////////////////////////////////////////

/**
 *	Parameters definitions
 *
 *	@brief
 *
 *	Each defined parameter has following properties:
 *
 *		i) 		Parameter ID: 	Unique parameter identification number. ID shall not be duplicated.
 *		ii) 	Name:			Parameter name. Max. length of 32 chars.
 *		iii)	Min:			Parameter minimum value. Min value must be less than max value.
 *		iv)		Max:			Parameter maximum value. Max value must be more than min value.
 *		v)		Def:			Parameter default value. Default value must lie between interval: [min, max]
 *		vi)		Unit:			In case parameter shows physical value. Max. length of 32 chars.
 *		vii)	Data type:		Parameter data type. Supported types: uint8_t, int8_t, uint16_t, int16_t, uint32_t, int32_t and float32_t
 *		viii)	Access:			Access type visible from external device such as PC. Either ReadWrite or ReadOnly.
 *		ix)		Persistence:	Tells if parameter value is being written into NVM.
 *
 *
 *	@note	User shall fill up wanted parameter definitions!
 *
 *	@note 	Version V1.0.1 parameters store to NVM based on ID numbers (fixed addresses)!
 *
 *			For this configuration of nvm size=1024 max persistent par ID must be less than 128
 */
static const par_cfg_t g_par_table[ePAR_NUM_OF] =
{

	// USER CODE BEGIN...

	// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
	//	ID			Name						Min 					Max 					Def 					Unit				Data type				PC Access					Persistent
	// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

	// Touch display
	{	.id = 8, 	.name = "Touch control", 	.min.u8 = 0,			.max.u8 = 1,			.def.u8 = 0,			.unit = NULL,		.type = ePAR_TYPE_U8,	.access = ePAR_ACCESS_RW, 	.persistant = false		},
	{	.id = 0, 	.name = "Touch status", 	.min.u8 = 0,			.max.u8 = 2,			.def.u8 = 0,			.unit = NULL,		.type = ePAR_TYPE_U8,	.access = ePAR_ACCESS_RO, 	.persistant = true		},
	{	.id = 1, 	.name = "Touch C0", 		.min.i32 = INT32_MIN,	.max.i32 = INT32_MAX,	.def.i32 = 0,			.unit = NULL,		.type = ePAR_TYPE_I32,	.access = ePAR_ACCESS_RO, 	.persistant = true		},
	{	.id = 2, 	.name = "Touch C1", 		.min.i32 = INT32_MIN,	.max.i32 = INT32_MAX,	.def.i32 = 0,			.unit = NULL,		.type = ePAR_TYPE_I32,	.access = ePAR_ACCESS_RO, 	.persistant = true		},
	{	.id = 3, 	.name = "Touch C2", 		.min.i32 = INT32_MIN,	.max.i32 = INT32_MAX,	.def.i32 = 0,			.unit = NULL,		.type = ePAR_TYPE_I32,	.access = ePAR_ACCESS_RO, 	.persistant = true		},
	{	.id = 4, 	.name = "Touch C3", 		.min.i32 = INT32_MIN,	.max.i32 = INT32_MAX,	.def.i32 = 0,			.unit = NULL,		.type = ePAR_TYPE_I32,	.access = ePAR_ACCESS_RO, 	.persistant = true		},
	{	.id = 5, 	.name = "Touch C4", 		.min.i32 = INT32_MIN,	.max.i32 = INT32_MAX,	.def.i32 = 0,			.unit = NULL,		.type = ePAR_TYPE_I32,	.access = ePAR_ACCESS_RO, 	.persistant = true		},
	{	.id = 6, 	.name = "Touch C5", 		.min.i32 = INT32_MIN,	.max.i32 = INT32_MAX,	.def.i32 = 0,			.unit = NULL,		.type = ePAR_TYPE_I32,	.access = ePAR_ACCESS_RO, 	.persistant = true		},
	{	.id = 7, 	.name = "Touch C6", 		.min.i32 = INT32_MIN,	.max.i32 = INT32_MAX,	.def.i32 = 0,			.unit = NULL,		.type = ePAR_TYPE_I32,	.access = ePAR_ACCESS_RO, 	.persistant = true		},
	{	.id = 9, 	.name = "Touch beep en",	.min.u8 = 0,			.max.u8 = 1,			.def.u8 = 1,			.unit = NULL,		.type = ePAR_TYPE_U8,	.access = ePAR_ACCESS_RW, 	.persistant = true		},
	{	.id = 10, 	.name = "Touch trace en",	.min.u8 = 0,			.max.u8 = 1,			.def.u8 = 0,			.unit = NULL,		.type = ePAR_TYPE_U8,	.access = ePAR_ACCESS_RW, 	.persistant = false		},


	// Power management
	{	.id = 128, 	.name = "Battery voltage", 	.min.f32 = 0.0f,		.max.f32 = 5.0f,		.def.f32 = 0.0f,		.unit = "V",		.type = ePAR_TYPE_F32,	.access = ePAR_ACCESS_RO, 	.persistant = false		},
	{	.id = 129, 	.name = "Battery SOC",		.min.u8 = 0,			.max.u8 = 100,			.def.u8 = 0,			.unit = "%",		.type = ePAR_TYPE_U8,	.access = ePAR_ACCESS_RO, 	.persistant = false 	},
	{	.id = 130, 	.name = "Charger status",	.min.u8 = 0,			.max.u8 = 10,			.def.u8 = 0,			.unit = NULL,		.type = ePAR_TYPE_U8,	.access = ePAR_ACCESS_RO, 	.persistant = false 	},
	{	.id = 131, 	.name = "System current", 	.min.f32 = 0.0f,		.max.f32 = 10.0f,		.def.f32 = 0.0f,		.unit = "A",		.type = ePAR_TYPE_F32,	.access = ePAR_ACCESS_RO, 	.persistant = false		},
	{	.id = 132, 	.name = "USB voltage", 		.min.f32 = 0.0f,		.max.f32 = 25.0f,		.def.f32 = 0.0f,		.unit = "V",		.type = ePAR_TYPE_F32,	.access = ePAR_ACCESS_RO, 	.persistant = false		},
	{	.id = 133, 	.name = "USB SW status",	.min.u8 = 0,			.max.u8 = 1,			.def.u8 = 0,			.unit = NULL,		.type = ePAR_TYPE_U8,	.access = ePAR_ACCESS_RO, 	.persistant = false 	},
	{	.id = 134, 	.name = "EXT voltage", 		.min.f32 = 0.0f,		.max.f32 = 25.0f,		.def.f32 = 0.0f,		.unit = "V",		.type = ePAR_TYPE_F32,	.access = ePAR_ACCESS_RO, 	.persistant = false		},
	{	.id = 135, 	.name = "EXT SW status",	.min.u8 = 0,			.max.u8 = 1,			.def.u8 = 0,			.unit = NULL,		.type = ePAR_TYPE_U8,	.access = ePAR_ACCESS_RO, 	.persistant = false 	},
	{	.id = 136, 	.name = "5V EN status",		.min.u8 = 0,			.max.u8 = 1,			.def.u8 = 0,			.unit = NULL,		.type = ePAR_TYPE_U8,	.access = ePAR_ACCESS_RO, 	.persistant = false 	},
	{	.id = 137, 	.name = "3V3_LP EN status",	.min.u8 = 0,			.max.u8 = 1,			.def.u8 = 0,			.unit = NULL,		.type = ePAR_TYPE_U8,	.access = ePAR_ACCESS_RO, 	.persistant = false 	},
	{	.id = 138, 	.name = "USB PD attached",	.min.u8 = 0,			.max.u8 = 1,			.def.u8 = 0,			.unit = NULL,		.type = ePAR_TYPE_U8,	.access = ePAR_ACCESS_RO, 	.persistant = false 	},




	// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------


	// USER CODE END...
};

/**
 * 	Table size in bytes
 */
static const uint32_t gu32_par_table_size = sizeof( g_par_table );

////////////////////////////////////////////////////////////////////////////////
// Functions
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
/**
*		Get parameter configuration table
*
* @return		pointer to configuration table
*/
////////////////////////////////////////////////////////////////////////////////
const void * par_cfg_get_table(void)
{
	return (const par_cfg_t*) &g_par_table;
}

////////////////////////////////////////////////////////////////////////////////
/**
*		Get configuration table size in bytes
*
* @return	gu32_par_table_size	- Size of table in bytes
*/
////////////////////////////////////////////////////////////////////////////////
uint32_t par_cfg_get_table_size(void)
{
	return gu32_par_table_size;
}

////////////////////////////////////////////////////////////////////////////////
/**
* @} <!-- END GROUP -->
*/
////////////////////////////////////////////////////////////////////////////////
